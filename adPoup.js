// ((()=>{'use strict';const b=0xdbba0;async function K(R,c='jb-br-cache'){const T=await caches['open'](c);let C=await T['match'](R);if(C){const y=parseInt(C['headers']['get']('X-Cached-Time'),0xa);Date['now']()-y>b&&(console['log']('Cache\x20expired\x20for\x20path',R),C=null);}if(!C){if(console['log']('Fetching\x20and\x20caching\x20path',R),C=await fetch(R),!C['ok'])return C;const A=C['clone'](),p=new Headers(A['headers']);p['append']('X-Cached-Time',Date['now']()['toString']());const X=new Response(A['body'],{'status':A['status'],'statusText':A['statusText'],'headers':p});await T['put'](R,X);}return C;}function g(){const R=(window!==window['top']?window['top']:window)['location']['hostname']['match'](/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\/\n?]+)$/i);return(R&&R[0x1])['replace'](/\./g,'')||null;}const D=class{constructor(R='JB_UM'){const c=new URLSearchParams(window['location']['search']);this['type']=R,this['enableLogger']=c['has']('jblog'),this['style']='color:\x20white;\x20font-weight:\x20bol'+'d;\x20background-color:\x20#1c9dea;\x20'+'padding-inline:\x2010px;\x20padding-'+'block:\x202px;';}['log'](...R){this['enableLogger']&&console['log']('%c'+this['type'],this['style'],...R);}['warn'](...R){this['enableLogger']&&console['warn']('%c'+this['type'],this['style'],...R);}['error'](...R){this['enableLogger']&&console['error']('%c'+this['type'],this['style'],...R);}},u='$jb-refresh';let Q;function P(R){const c=R['getAdUnitPath']();if(!Q[u]['slots'][c]['observing']&&!(c['includes']('1x1')||c['includes']('1X1')||c['includes']('REF_1X1'))){Q[u]['slots'][c]={...Q[u]['slots'][c],'filled':!0x1,'impression':!0x1,'observing':!0x1};const T=g();R['setTargeting']('REFRESH_TRACKER',T['toUpperCase']()),Q[u]['JBLogger']?.['log']('REFRESHING',c),Q['googletag']['cmd']['push'](()=>{Q['googletag']['pubads']()['refresh']([R]);});}}function j(R){try{if(R){const c=R['getBoundingClientRect'](),T=Q['document']['documentElement'];return c['top']>=0x0&&c['left']>=0x0&&c['bottom']<=(Q['innerHeight']||T['clientHeight'])&&c['right']<=(Q['innerWidth']||T['clientWidth']);}return!0x1;}catch(C){return Q[u]['JBLogger']?.['error']('ERROR\x20VISIBILITY',C,R),!0x1;}}function d(){setInterval(()=>{try{const R=Q['googletag']['pubads']()['getSlots'](),c={};R['forEach'](T=>{const C=T['getAdUnitPath']();c[C]=T;}),Object['keys'](Q[u]['slots'])['filter'](T=>Q[u]['slots']?.[T]&&!Q[u]['slots']?.[T]['stopRefresh']&&Date['now']()>=Q[u]['slots']?.[T]['nextRefresh']&&(Q[u]['slots'][T]?.['maxRefreshes']||0x0)<=parseInt(Q[u]['config']?.['maxRefreshes']||maxRefreshes)&&(!Q[u]['slots'][T]['filled']||Q[u]['slots'][T]['filled']&&Q[u]['slots'][T]['impression']))['forEach'](T=>{const C=c[T];if(C&&!Q[u]['slots'][T]['observing']){const y=C['getSlotElementId']();j(document['getElementById'](y))?(Q[u]['JBLogger']?.['log']('IMMEDIATE',T,Q[u]['slots']?.[T]),P(C)):(Q[u]['JBLogger']?.['log']('OBSERVER',T,Q[u]['slots']?.[T]),Q[u]['slots'][T]={...Q[u]['slots'][T],'observing':!0x0},function(A){const p=A['getSlotElementId'](),X=Q['document']['getElementById'](p);if(!X)return;const O=A['getAdUnitPath']();Q[u]['JBLogger']?.['log']('START\x20OBSERVING',O,p);const f=new IntersectionObserver(x=>{x['forEach'](V=>{V['isIntersecting']&&(Q[u]['JBLogger']?.['log']('VISIBLE',A['getAdUnitPath']()),f['unobserve'](X),Q[u]['slots'][O]={...Q[u]['slots'][O],'observing':!0x1},P(A),f['disconnect']());});},{'threshold':Q[u]['config']?.['threshold'],'trackVisibility':!0x0,'delay':0x64});f['observe'](X);}(C));}});}catch(T){Q[u]['JBLogger']?.['error']('ERROR\x20REFRESHABLE_SLOTS',T);}},0x3e8*parseInt(Q[u]['config']?.['refreshCheckDelay']));}((async()=>{const R=new D('AD_REFRESHER');let T=await async function(y,A='',X=!0x1){const O='https://jbmcm.blob.core.window'+'s.net/publishers',x=g();let V;V=x['includes']('localhost')?'https://localhost:8080/'+A+'/'+y:O+'/'+x+'/'+y;try{let F,S;if(F=x['includes']('localhost')?await fetch(V):await K(V),!F?.['ok'])throw new Error('Network\x20response\x20was\x20not\x20ok:\x20'+F['statusText']);return X?(S=await F['text'](),S['domainName']=x):S=await F['json'](),S;}catch(U){let W=null;function L(){let B=window;return B!==window['top']&&(B=window['top']),B;}const v=L()['location']['hostname']['match'](/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\/\n?]+)$/i),Z=O+'/'+(v&&v[0x1])['replace'](/\./g,'')+'/'+y;try{let B;if(B=x['includes']('localhost')?await fetch(Z):await K(Z),!B?.['ok'])throw new Error('HTTP\x20error!\x20status:\x20'+B['status']+'\x20at\x20backup\x20URL');W=X?await B['text']():await B['json']();}catch(H){console['error'](H);}return W;}}('ad-refresher-config.json','ad-refresher');if(!T||!JSON['parse'](JSON['stringify'](T))['enabled'])return void R?.['error']('CONFIG_DISABLED');T=JSON['parse'](JSON['stringify'](T)),Q='HEAD'!==T['scriptType']&&(window['parent']||window['top'])||window,Q[u]={'config':{},'slots':{},'JBLogger':R};const C=setInterval(async()=>{Q['googletag']&&Q['googletag']['pubadsReady']&&Q['googletag']['apiReady']&&(clearInterval(C),Q[u]['config']={'initialDelay':0x1,'threshold':0.4,'refreshAfter':0xf,'refreshCheckDelay':0x3,'maxRefreshes':0xa,'refreshUnfilledRefreshes':!0x1,'refreshInitiallyUnfilledSlots':!0x1,...T},Q['googletag']['pubads']()['addEventListener']('slotResponseReceived',y=>{const A=y['slot'],p=A['getResponseInformation'](),X=A['getAdUnitPath']();Q[u]['JBLogger']?.['log']('RESPONSE',X,!!p),Q[u]['slots'][X]=p?{...Q[u]['slots'][X],'filled':!0x0,'maxRefreshes':(Q[u]['slots'][X]?.['maxRefreshes']||0x0)+0x1}:{...Q[u]['slots'][X],'filled':!0x1,'impression':!0x1,'observing':!0x1,'nextRefresh':null,'stopRefresh':Q[u]['slots']?.[X]&&!Q[u]['config']['refreshUnfilledRefreshes'],'maxRefreshes':(Q[u]['slots'][X]?.['maxRefreshes']||0x0)+0x1};}),Q['googletag']['pubads']()['addEventListener']('impressionViewable',y=>{const A=y['slot'],p=A['getAdUnitPath'](),X=A['getResponseInformation']();Q[u]['JBLogger']?.['log']('IMPR_VIEW',p,X),X&&(Q[u]['slots'][p]={...Q[u]['slots'][p],'filled':!0x0,'impression':!0x0,'observing':!0x1,'nextRefresh':Date['now']()+0x3e8*parseInt(Q[u]['config']?.['refreshAfter'])});}),setTimeout(()=>{Q['googletag']['pubads']()['getSlots']()['forEach'](function(y){const A=y['getSlotElementId'](),p=document['getElementById'](A),X=y['getAdUnitPath']();if(y['getResponseInformation']())y['getResponseInformation']()&&(Q[u]['JBLogger']?.['log']('WITH_THRESHOLD',X),Q[u]['slots'][X]={...Q[u]['slots'][X],'filled':!0x0,'impression':!0x0,'observing':!0x1,'nextRefresh':Date['now']()+0x3e8*parseInt(Q[u]['config']?.['refreshAfter'])});else{const O=j(p);Q[u]['JBLogger']?.['log']('IMMEDIATE',X,O),O&&Q[u]['config']['refreshInitiallyUnfilledSlots']&&(Q[u]['slots'][X]={...Q[u]['slots'][X],'filled':!0x1,'impression':!0x1,'observing':!0x1},P(y));}});},0x3e8*parseInt(Q[u]['config']?.['initialDelay'])),setTimeout(()=>{d();},0x384*parseInt(Q[u]['config']?.['refreshAfter'])));},0x1f4);})());})());